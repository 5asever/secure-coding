{% extends "base.html" %}
{% block title %}ì§€ê°‘{% endblock %}

{% block content %}
<h2>ğŸ’° ë‚´ ì§€ê°‘</h2>
<p>í˜„ì¬ ì”ì•¡: <strong>{{ balance }}ì›</strong></p>

<h3>ğŸ“¤ ë³´ë‚¸ ì†¡ê¸ˆ ë‚´ì—­</h3>
<ul>
  {% for t in sent_transactions %}
    <li>{{ t.timestamp }} - <strong>{{ t.receiver_name }}</strong>ì—ê²Œ {{ t.amount }}ì› ì†¡ê¸ˆ</li>
  {% endfor %}
  {% if sent_transactions|length == 0 %}
    <li>ë³´ë‚¸ ì†¡ê¸ˆ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>
  {% endif %}
</ul>

<h3>ğŸ“¥ ë°›ì€ ì†¡ê¸ˆ ë‚´ì—­</h3>
<ul>
  {% for t in received_transactions %}
    <li>{{ t.timestamp }} - <strong>{{ t.sender_name }}</strong>ë¡œë¶€í„° {{ t.amount }}ì› ìˆ˜ì‹ </li>
  {% endfor %}
  {% if received_transactions|length == 0 %}
    <li>ë°›ì€ ì†¡ê¸ˆ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</li>
  {% endif %}
</ul>

<h3>ğŸ’³ ì¶©ì „í•˜ê¸°</h3>
<form method="post" action="{{ url_for('topup_wallet') }}">
  <!-- âœ… CSRF í† í° ì¶”ê°€ -->
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <input type="number" name="amount" placeholder="ì¶©ì „ ê¸ˆì•¡" min="1000" step="1000" required>
  <button type="submit">ì¶©ì „</button>
</form>
{% endblock %}
